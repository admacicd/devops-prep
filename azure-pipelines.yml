# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  name: Default

variables:
  appName: 'demo-web-app-v2'
  buildConfiguration: 'Release'

steps:
# Build section
- script: |
    echo "=== BUILD STAGE ==="
    echo "Application: $(appName)"
    echo "Configuration: $(buildConfiguration)"
    echo "Restoring dependencies..."
    echo "Building $(appName) in $(buildConfiguration) mode..."
    echo "[SIMULATION] Build succeeded."
  displayName: 'Build application'

# Test section
- script: |
    echo "=== TEST STAGE ==="
    echo "Running unit tests for $(appName)..."
    echo "[SIMULATION] All unit tests passed."
  displayName: 'Run unit tests'
